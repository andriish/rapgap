# Sherpa configuration for DIS

# Generic MC stuff
EVENTS: 1M
ERROR: 0.99
EVENT_GENERATION_MODE: PartiallyUnweighted
ANALYSIS: Rivet

# collider setup
BEAMS: [-11, 2212]
#BEAM_ENERGIES: [26.7, 820]
BEAM_ENERGIES: [27.6, 920]
PDF_LIBRARY: LHAPDFSherpa
#PDF_SET: [None, MMHT2014nlo68cl_nf3]
PDF_SET: [None, CT10]

EVENT_GENERATION_MODE: Weighted
OVERWEIGHT_THRESHOLD: 50

#ALPHAS(MZ): 0.13
#ORDER_ALPHAS: 1


# matrix-element calculation
ME_GENERATORS:
- Comix
- Amegic
EVENT_GENERATION_MODE: Weighted
RESPECT_MASSIVE_FLAG: true
TAGS:
  # scale variation (if ever needed)
  FSF: 1.0
  RSF: 1.0
  QSF: 1.0
  # process definition and calculation
  NJET: 1
  QCUT: 1.5
  SDIS: 1.0


# Shower parameters
CSS_KIN_SCHEME: 1
CSS_FS_PT2MIN:  1.00
CSS_IS_PT2MIN:  1.10
CSS_FS_AS_FAC:  1.00 
CSS_IS_AS_FAC:  1.00 


# Below a lot of soft stuff.  I put default parameters behind the hash.

INTRINSIC_KPERP:
  MEAN:     0.001   0.1   # 0.0
  SIGMA:    0.001   2.5   # 1.5
  MAX:      3.0   3.0   # 3.0
  CUT_EXPO: 5.0   5.0   # 5.0
FRAGMENTATION: Lund

#FRAGMENTATION: Ahadic
AHADIC:
  KT_ORDER:               0       # ordering kt's in subsequent cluster decays = off
  GLUON_DECAY_MODE:       0       # form for gluon splitting: [z*(1-z)]^alpha_G
  ALPHA_G:                1.00   
  CLUSTER_SPLITTING_MODE: 2       # simple form given by "fragmentation functions" (mide=2),
  ALPHA_L:                2.50    # parametrised by
  BETA_L:                 0.00    # z^alpha (1-z)^beta exp[-gamma*(kt^2+M^2)/kt0^2],
  GAMMA_L:                0.75    # where M^2 is sum of cluster constituents
  ALPHA_D:                2.50    # parameters are for 
  BETA_D:                 0.00    # splitter = L: light quark 
  GAMMA_D:                1.00    #          = H: heavy quark or leading quark as splitter/spectator
  ALPHA_H:                1.00    #          = D: di-quark
  BETA_H:                 1.50    # I've tuned these parameters to LEP.
  GAMMA_H:                0.03    # 
  KT_0:                   0.75    #
  #################################
  # This may be tunable, currently the only parameter is GAMMA_B, but it could probably be a good idea
  # to edit the code and check different options in the DeltaM method.
  # Alternatively it may be worthwhile to check REMNANT_CLUSTER_MODE = 2 
  #################################
  REMNANT_CLUSTER_MODE:   1       # cluster decays including beam particles can have a separate form.       
  ALPHA_B:                0.      # 1 = the masses of the offspring clusters are chosen in 
  BETA_B:                 0.      #     the AHADIC::Decays::cluster_Splitter::DeltaM
  GAMMA_B:                0.5     # currently chosen: simple exponential form with parameter gamma_B * kT_0
  #################################
  # Below tuned again with LEP
  #################################  
  MASS_EXPONENT:              0   # extra mass factor for cluster to hadron decays.
  SINGLET_SUPPRESSION:        2.00
  STRANGE_FRACTION:           0.55
  BARYON_FRACTION:            0.17
  ETA_MODIFIER:               3.00   # 2.50
  ETA_PRIME_MODIFIER:         3.00   # 2.00
  SINGLETBARYON_MODIFIER:     1.80   # 2.00
  CHARMSTRANGE_ENHANCEMENT:   2.00   # 2.00
  BEAUTYSTRANGE_ENHANCEMENT:  1.40   # 1.40
  BEAUTYCHARM_ENHANCEMENT:    1.00   # 1.00
  CHARMBARYON_ENHANCEMENT:    8.00   # 3.00
  BEAUTYBARYON_ENHANCEMENT:   0.80   # 1.00
  P_QS_by_P_QQ_norm:          0.48   # 0.30
  P_SS_by_P_QQ_norm:          0.02   # 0.02

#DECAYMODEL: Lund

PROCESSES:
- {
      Process: "-11 93 -> -11 93 93{$(NJET)}",
      CKKW: "$(QCUT)/sqrt(1.0+sqr($(QCUT)/$(SDIS))/Abs2(p[2]-p[0]))",
      Order: {QCD: Any, EW: 2},
      RS_Enhance_Factor: 10,
      2: { Integration_Error: 0.0005 },
      3: { Integration_Error: 0.003 },
      4: { Integration_Error: 0.15 },
      5: { Integration_Error: 0.01 }
  }



    
SELECTORS:
  - [Q2, -11, -11, 1.001, 1000]
  - [INEL, -11, -11, 0.015, 0.75]
#  - [Mass, 4, -4, 5.0, E_CMS]

# Add whatever analyses you like here.

YFS: {
MODE: None
}
CSS_PDF_MIN_X: 0.000003
ME_QED: {
    ENABLED: false
}

#SHOWER_GENERATOR: CSS


RIVET:
 -a:
    - MC_DIS
#    - H1_1997_I424463
#    - H1_1994_S2919893
#    - H1_1995_S3167097
#    - H1ZEUS_2015_I1353667
#    - ZEUS_2007_I714503
#    - ZEUS_2008_I810112
#    - ZEUS_2010_I848883 
#    - ZEUS_2010_I875006
#    - ZEUS_2010_I844129
#    - H1_2013_I1217865
#    - ZEUS_2010_I860842
    - ZEUS_2012_I945935
    - H1_2009_I810046
#    - MC_XS
 USE_HEPMC_TREE_LIKE: true
# IGNOREBEAMS: true
